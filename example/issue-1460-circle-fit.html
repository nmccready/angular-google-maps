<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org/" ng-app="appMaps">

<head>
  <meta charset="utf-8" />
  <title>AngularJS Plunker</title>
  <script src="../bower_components/angular/angular.js"></script>
  <script src="../bower_components/lodash/lodash.js"></script>
  <script src="../bower_components/angular-simple-logger/dist/angular-simple-logger.js"></script>
  <script type='text/javascript' src="../dist/angular-google-maps_dev_mapped.js"></script>
  <script>
    angular.module('appMaps', ['uiGmapgoogle-maps'])
      .controller('mainCtrl', function($scope) {
        $scope.map = {
          center: {
            latitude: 38,
            longitude: -77
          },
          zoom: 8,
          bounds: {}
        };


        $scope.map.circles = [{
          id: 1,
          center: _.extend({}, $scope.map.center),
          radius: 100000,
          stroke: {
            color: '#08B21F',
            weight: 2,
            opacity: 1
          },
          fill: {
            color: '#08b38a',
            opacity: 0.5
          },
          geodesic: true, // optional: defaults to false
          draggable: true, // optional: defaults to false
          clickable: true, // optional: defaults to true
          editable: true, // optional: defaults to false
          visible: true, // optional: defaults to true
          events:{
            dblclick: function(){
              $log.debug("circle dblclick");
            },
            radius_changed: function(gObject){
              var radius = gObject.getRadius();
              $log.debug("circle radius radius_changed " + radius);
            }
          }
        },
        {
          id: 2,
          center: {
            latitude: 44,
            longitude: -80
          },
          radius: 105000,
          stroke: {
            color: 'red',
            weight: 2,
            opacity: 1
          },
          fill: {
            color: '#08b38a',
            opacity: 0.5
          },
          geodesic: true, // optional: defaults to false
          draggable: true, // optional: defaults to false
          clickable: true, // optional: defaults to true
          editable: true, // optional: defaults to false
          visible: true, // optional: defaults to true
          events:{
            dblclick: function(){
              $log.debug("circle dblclick");
            },
            radius_changed: function(gObject){
              var radius = gObject.getRadius();
              $log.debug("circle radius radius_changed " + radius);
            }
          }
        }

      ]

      });
  </script>
  <style type="text/css">
    html,
    body,
    #map_canvas {
      height: 100%;
      width: 100%;
      margin: 0px;
    }

    #map_canvas {
      position: relative;
    }

    .angular-google-map-container {
      position: absolute;
      top: 0;
      bottom: 0;
      right: 0;
      left: 0;
    }

    .buttons {
      position: absolute;
      z-index: 10;
    }
  </style>
</head>

<body>
<div id="map_canvas" ng-controller="mainCtrl as main">
    <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" options="options" bounds="map.bounds">
      <ui-gmap-circle ng-repeat="circle in map.circles" center='circle.center'
                      radius='circle.radius'
                      fill='circle.fill'
                      stroke='circle.stroke'
                      clickable='circle.clickable'
                      draggable='circle.draggable'
                      editable='circle.editable'
                      visible='circle.visible'
                      events='circle.events'
                      fit="true"
                      group="1">
      </ui-gmap-circle>
    </ui-gmap-google-map>
  </div>
</body>

</html>
